{{- if and .Values.podSecurityPolicy.enabled (.Capabilities.APIVersions.Has "policy/v1beta1/PodSecurityPolicy") }} #This is the 1 line in podsecuritypolicy.yaml #This is the 1 line in podsecuritypolicy.yaml #This is the 1 line in podsecuritypolicy.yaml #This is the 1 line in podsecuritypolicy.yaml #This is the 1 line in podsecuritypolicy.yaml
apiVersion: policy/v1beta1 #This is the 2 line in podsecuritypolicy.yaml #This is the 2 line in podsecuritypolicy.yaml #This is the 2 line in podsecuritypolicy.yaml #This is the 2 line in podsecuritypolicy.yaml #This is the 2 line in podsecuritypolicy.yaml
kind: PodSecurityPolicy #This is the 3 line in podsecuritypolicy.yaml #This is the 3 line in podsecuritypolicy.yaml #This is the 3 line in podsecuritypolicy.yaml #This is the 3 line in podsecuritypolicy.yaml #This is the 3 line in podsecuritypolicy.yaml
metadata: #This is the 4 line in podsecuritypolicy.yaml #This is the 4 line in podsecuritypolicy.yaml #This is the 4 line in podsecuritypolicy.yaml #This is the 4 line in podsecuritypolicy.yaml #This is the 4 line in podsecuritypolicy.yaml
  name: {{ template "kube-state-metrics.fullname" . }} #This is the 5 line in podsecuritypolicy.yaml #This is the 5 line in podsecuritypolicy.yaml #This is the 5 line in podsecuritypolicy.yaml #This is the 5 line in podsecuritypolicy.yaml #This is the 5 line in podsecuritypolicy.yaml
  labels: #This is the 6 line in podsecuritypolicy.yaml #This is the 6 line in podsecuritypolicy.yaml #This is the 6 line in podsecuritypolicy.yaml #This is the 6 line in podsecuritypolicy.yaml #This is the 6 line in podsecuritypolicy.yaml
    {{- include "kube-state-metrics.labels" . | indent 4 }} #This is the 7 line in podsecuritypolicy.yaml #This is the 7 line in podsecuritypolicy.yaml #This is the 7 line in podsecuritypolicy.yaml #This is the 7 line in podsecuritypolicy.yaml #This is the 7 line in podsecuritypolicy.yaml
{{- if .Values.podSecurityPolicy.annotations }} #This is the 8 line in podsecuritypolicy.yaml #This is the 8 line in podsecuritypolicy.yaml #This is the 8 line in podsecuritypolicy.yaml #This is the 8 line in podsecuritypolicy.yaml #This is the 8 line in podsecuritypolicy.yaml
  annotations: #This is the 9 line in podsecuritypolicy.yaml #This is the 9 line in podsecuritypolicy.yaml #This is the 9 line in podsecuritypolicy.yaml #This is the 9 line in podsecuritypolicy.yaml #This is the 9 line in podsecuritypolicy.yaml
{{ toYaml .Values.podSecurityPolicy.annotations | indent 4 }} #This is the 10 line in podsecuritypolicy.yaml #This is the 10 line in podsecuritypolicy.yaml #This is the 10 line in podsecuritypolicy.yaml #This is the 10 line in podsecuritypolicy.yaml #This is the 10 line in podsecuritypolicy.yaml
{{- end }} #This is the 11 line in podsecuritypolicy.yaml #This is the 11 line in podsecuritypolicy.yaml #This is the 11 line in podsecuritypolicy.yaml #This is the 11 line in podsecuritypolicy.yaml #This is the 11 line in podsecuritypolicy.yaml
spec: #This is the 12 line in podsecuritypolicy.yaml #This is the 12 line in podsecuritypolicy.yaml #This is the 12 line in podsecuritypolicy.yaml #This is the 12 line in podsecuritypolicy.yaml #This is the 12 line in podsecuritypolicy.yaml
  privileged: false #This is the 13 line in podsecuritypolicy.yaml #This is the 13 line in podsecuritypolicy.yaml #This is the 13 line in podsecuritypolicy.yaml #This is the 13 line in podsecuritypolicy.yaml #This is the 13 line in podsecuritypolicy.yaml
  volumes: #This is the 14 line in podsecuritypolicy.yaml #This is the 14 line in podsecuritypolicy.yaml #This is the 14 line in podsecuritypolicy.yaml #This is the 14 line in podsecuritypolicy.yaml #This is the 14 line in podsecuritypolicy.yaml
    - 'secret' #This is the 15 line in podsecuritypolicy.yaml #This is the 15 line in podsecuritypolicy.yaml #This is the 15 line in podsecuritypolicy.yaml #This is the 15 line in podsecuritypolicy.yaml #This is the 15 line in podsecuritypolicy.yaml
{{- if .Values.podSecurityPolicy.additionalVolumes }} #This is the 16 line in podsecuritypolicy.yaml #This is the 16 line in podsecuritypolicy.yaml #This is the 16 line in podsecuritypolicy.yaml #This is the 16 line in podsecuritypolicy.yaml #This is the 16 line in podsecuritypolicy.yaml
{{ toYaml .Values.podSecurityPolicy.additionalVolumes | indent 4 }} #This is the 17 line in podsecuritypolicy.yaml #This is the 17 line in podsecuritypolicy.yaml #This is the 17 line in podsecuritypolicy.yaml #This is the 17 line in podsecuritypolicy.yaml #This is the 17 line in podsecuritypolicy.yaml
{{- end }} #This is the 18 line in podsecuritypolicy.yaml #This is the 18 line in podsecuritypolicy.yaml #This is the 18 line in podsecuritypolicy.yaml #This is the 18 line in podsecuritypolicy.yaml #This is the 18 line in podsecuritypolicy.yaml
  hostNetwork: false #This is the 19 line in podsecuritypolicy.yaml #This is the 19 line in podsecuritypolicy.yaml #This is the 19 line in podsecuritypolicy.yaml #This is the 19 line in podsecuritypolicy.yaml #This is the 19 line in podsecuritypolicy.yaml
  hostIPC: false #This is the 20 line in podsecuritypolicy.yaml #This is the 20 line in podsecuritypolicy.yaml #This is the 20 line in podsecuritypolicy.yaml #This is the 20 line in podsecuritypolicy.yaml #This is the 20 line in podsecuritypolicy.yaml
  hostPID: false #This is the 21 line in podsecuritypolicy.yaml #This is the 21 line in podsecuritypolicy.yaml #This is the 21 line in podsecuritypolicy.yaml #This is the 21 line in podsecuritypolicy.yaml #This is the 21 line in podsecuritypolicy.yaml
  runAsUser: #This is the 22 line in podsecuritypolicy.yaml #This is the 22 line in podsecuritypolicy.yaml #This is the 22 line in podsecuritypolicy.yaml #This is the 22 line in podsecuritypolicy.yaml #This is the 22 line in podsecuritypolicy.yaml
    rule: 'MustRunAsNonRoot' #This is the 23 line in podsecuritypolicy.yaml #This is the 23 line in podsecuritypolicy.yaml #This is the 23 line in podsecuritypolicy.yaml #This is the 23 line in podsecuritypolicy.yaml #This is the 23 line in podsecuritypolicy.yaml
  seLinux: #This is the 24 line in podsecuritypolicy.yaml #This is the 24 line in podsecuritypolicy.yaml #This is the 24 line in podsecuritypolicy.yaml #This is the 24 line in podsecuritypolicy.yaml #This is the 24 line in podsecuritypolicy.yaml
    rule: 'RunAsAny' #This is the 25 line in podsecuritypolicy.yaml #This is the 25 line in podsecuritypolicy.yaml #This is the 25 line in podsecuritypolicy.yaml #This is the 25 line in podsecuritypolicy.yaml #This is the 25 line in podsecuritypolicy.yaml
  supplementalGroups: #This is the 26 line in podsecuritypolicy.yaml #This is the 26 line in podsecuritypolicy.yaml #This is the 26 line in podsecuritypolicy.yaml #This is the 26 line in podsecuritypolicy.yaml #This is the 26 line in podsecuritypolicy.yaml
    rule: 'MustRunAs' #This is the 27 line in podsecuritypolicy.yaml #This is the 27 line in podsecuritypolicy.yaml #This is the 27 line in podsecuritypolicy.yaml #This is the 27 line in podsecuritypolicy.yaml #This is the 27 line in podsecuritypolicy.yaml
    ranges: #This is the 28 line in podsecuritypolicy.yaml #This is the 28 line in podsecuritypolicy.yaml #This is the 28 line in podsecuritypolicy.yaml #This is the 28 line in podsecuritypolicy.yaml #This is the 28 line in podsecuritypolicy.yaml
      # Forbid adding the root group. #This is the 29 line in podsecuritypolicy.yaml #This is the 29 line in podsecuritypolicy.yaml #This is the 29 line in podsecuritypolicy.yaml #This is the 29 line in podsecuritypolicy.yaml #This is the 29 line in podsecuritypolicy.yaml
      - min: 1 #This is the 30 line in podsecuritypolicy.yaml #This is the 30 line in podsecuritypolicy.yaml #This is the 30 line in podsecuritypolicy.yaml #This is the 30 line in podsecuritypolicy.yaml #This is the 30 line in podsecuritypolicy.yaml
        max: 65535 #This is the 31 line in podsecuritypolicy.yaml #This is the 31 line in podsecuritypolicy.yaml #This is the 31 line in podsecuritypolicy.yaml #This is the 31 line in podsecuritypolicy.yaml #This is the 31 line in podsecuritypolicy.yaml
  fsGroup: #This is the 32 line in podsecuritypolicy.yaml #This is the 32 line in podsecuritypolicy.yaml #This is the 32 line in podsecuritypolicy.yaml #This is the 32 line in podsecuritypolicy.yaml #This is the 32 line in podsecuritypolicy.yaml
    rule: 'MustRunAs' #This is the 33 line in podsecuritypolicy.yaml #This is the 33 line in podsecuritypolicy.yaml #This is the 33 line in podsecuritypolicy.yaml #This is the 33 line in podsecuritypolicy.yaml #This is the 33 line in podsecuritypolicy.yaml
    ranges: #This is the 34 line in podsecuritypolicy.yaml #This is the 34 line in podsecuritypolicy.yaml #This is the 34 line in podsecuritypolicy.yaml #This is the 34 line in podsecuritypolicy.yaml #This is the 34 line in podsecuritypolicy.yaml
      # Forbid adding the root group. #This is the 35 line in podsecuritypolicy.yaml #This is the 35 line in podsecuritypolicy.yaml #This is the 35 line in podsecuritypolicy.yaml #This is the 35 line in podsecuritypolicy.yaml #This is the 35 line in podsecuritypolicy.yaml
      - min: 1 #This is the 36 line in podsecuritypolicy.yaml #This is the 36 line in podsecuritypolicy.yaml #This is the 36 line in podsecuritypolicy.yaml #This is the 36 line in podsecuritypolicy.yaml #This is the 36 line in podsecuritypolicy.yaml
        max: 65535 #This is the 37 line in podsecuritypolicy.yaml #This is the 37 line in podsecuritypolicy.yaml #This is the 37 line in podsecuritypolicy.yaml #This is the 37 line in podsecuritypolicy.yaml #This is the 37 line in podsecuritypolicy.yaml
  readOnlyRootFilesystem: false #This is the 38 line in podsecuritypolicy.yaml #This is the 38 line in podsecuritypolicy.yaml #This is the 38 line in podsecuritypolicy.yaml #This is the 38 line in podsecuritypolicy.yaml #This is the 38 line in podsecuritypolicy.yaml
{{- end }} #This is the 39 line in podsecuritypolicy.yaml #This is the 39 line in podsecuritypolicy.yaml #This is the 39 line in podsecuritypolicy.yaml #This is the 39 line in podsecuritypolicy.yaml #This is the 39 line in podsecuritypolicy.yaml
 #This is the 40 line in podsecuritypolicy.yaml #This is the 40 line in podsecuritypolicy.yaml #This is the 40 line in podsecuritypolicy.yaml #This is the 40 line in podsecuritypolicy.yaml #This is the 40 line in podsecuritypolicy.yaml