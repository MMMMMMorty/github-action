apiVersion: apps/v1 #This is the 1 line in deployment.yaml #This is the 1 line in deployment.yaml #This is the 1 line in deployment.yaml #This is the 1 line in deployment.yaml #This is the 1 line in deployment.yaml
{{- if .Values.autosharding.enabled }} #This is the 2 line in deployment.yaml #This is the 2 line in deployment.yaml #This is the 2 line in deployment.yaml #This is the 2 line in deployment.yaml #This is the 2 line in deployment.yaml
kind: StatefulSet #This is the 3 line in deployment.yaml #This is the 3 line in deployment.yaml #This is the 3 line in deployment.yaml #This is the 3 line in deployment.yaml #This is the 3 line in deployment.yaml
{{- else }} #This is the 4 line in deployment.yaml #This is the 4 line in deployment.yaml #This is the 4 line in deployment.yaml #This is the 4 line in deployment.yaml #This is the 4 line in deployment.yaml
kind: Deployment #This is the 5 line in deployment.yaml #This is the 5 line in deployment.yaml #This is the 5 line in deployment.yaml #This is the 5 line in deployment.yaml #This is the 5 line in deployment.yaml
{{- end }} #This is the 6 line in deployment.yaml #This is the 6 line in deployment.yaml #This is the 6 line in deployment.yaml #This is the 6 line in deployment.yaml #This is the 6 line in deployment.yaml
metadata: #This is the 7 line in deployment.yaml #This is the 7 line in deployment.yaml #This is the 7 line in deployment.yaml #This is the 7 line in deployment.yaml #This is the 7 line in deployment.yaml
  name: {{ template "kube-state-metrics.fullname" . }} #This is the 8 line in deployment.yaml #This is the 8 line in deployment.yaml #This is the 8 line in deployment.yaml #This is the 8 line in deployment.yaml #This is the 8 line in deployment.yaml
  namespace: {{ template "kube-state-metrics.namespace" . }} #This is the 9 line in deployment.yaml #This is the 9 line in deployment.yaml #This is the 9 line in deployment.yaml #This is the 9 line in deployment.yaml #This is the 9 line in deployment.yaml
  labels: #This is the 10 line in deployment.yaml #This is the 10 line in deployment.yaml #This is the 10 line in deployment.yaml #This is the 10 line in deployment.yaml #This is the 10 line in deployment.yaml
    {{- include "kube-state-metrics.labels" . | indent 4 }} #This is the 11 line in deployment.yaml #This is the 11 line in deployment.yaml #This is the 11 line in deployment.yaml #This is the 11 line in deployment.yaml #This is the 11 line in deployment.yaml
  {{- if .Values.annotations }} #This is the 12 line in deployment.yaml #This is the 12 line in deployment.yaml #This is the 12 line in deployment.yaml #This is the 12 line in deployment.yaml #This is the 12 line in deployment.yaml
  annotations: #This is the 13 line in deployment.yaml #This is the 13 line in deployment.yaml #This is the 13 line in deployment.yaml #This is the 13 line in deployment.yaml #This is the 13 line in deployment.yaml
{{ toYaml .Values.annotations | indent 4 }} #This is the 14 line in deployment.yaml #This is the 14 line in deployment.yaml #This is the 14 line in deployment.yaml #This is the 14 line in deployment.yaml #This is the 14 line in deployment.yaml
  {{- end }} #This is the 15 line in deployment.yaml #This is the 15 line in deployment.yaml #This is the 15 line in deployment.yaml #This is the 15 line in deployment.yaml #This is the 15 line in deployment.yaml
spec: #This is the 16 line in deployment.yaml #This is the 16 line in deployment.yaml #This is the 16 line in deployment.yaml #This is the 16 line in deployment.yaml #This is the 16 line in deployment.yaml
  selector: #This is the 17 line in deployment.yaml #This is the 17 line in deployment.yaml #This is the 17 line in deployment.yaml #This is the 17 line in deployment.yaml #This is the 17 line in deployment.yaml
    matchLabels: #This is the 18 line in deployment.yaml #This is the 18 line in deployment.yaml #This is the 18 line in deployment.yaml #This is the 18 line in deployment.yaml #This is the 18 line in deployment.yaml
      {{- include "kube-state-metrics.selectorLabels" . | indent 6 }} #This is the 19 line in deployment.yaml #This is the 19 line in deployment.yaml #This is the 19 line in deployment.yaml #This is the 19 line in deployment.yaml #This is the 19 line in deployment.yaml
  replicas: {{ .Values.replicas }} #This is the 20 line in deployment.yaml #This is the 20 line in deployment.yaml #This is the 20 line in deployment.yaml #This is the 20 line in deployment.yaml #This is the 20 line in deployment.yaml
  {{- if .Values.autosharding.enabled }} #This is the 21 line in deployment.yaml #This is the 21 line in deployment.yaml #This is the 21 line in deployment.yaml #This is the 21 line in deployment.yaml #This is the 21 line in deployment.yaml
  serviceName: {{ template "kube-state-metrics.fullname" . }} #This is the 22 line in deployment.yaml #This is the 22 line in deployment.yaml #This is the 22 line in deployment.yaml #This is the 22 line in deployment.yaml #This is the 22 line in deployment.yaml
  volumeClaimTemplates: [] #This is the 23 line in deployment.yaml #This is the 23 line in deployment.yaml #This is the 23 line in deployment.yaml #This is the 23 line in deployment.yaml #This is the 23 line in deployment.yaml
  {{- end }} #This is the 24 line in deployment.yaml #This is the 24 line in deployment.yaml #This is the 24 line in deployment.yaml #This is the 24 line in deployment.yaml #This is the 24 line in deployment.yaml
  template: #This is the 25 line in deployment.yaml #This is the 25 line in deployment.yaml #This is the 25 line in deployment.yaml #This is the 25 line in deployment.yaml #This is the 25 line in deployment.yaml
    metadata: #This is the 26 line in deployment.yaml #This is the 26 line in deployment.yaml #This is the 26 line in deployment.yaml #This is the 26 line in deployment.yaml #This is the 26 line in deployment.yaml
      labels: #This is the 27 line in deployment.yaml #This is the 27 line in deployment.yaml #This is the 27 line in deployment.yaml #This is the 27 line in deployment.yaml #This is the 27 line in deployment.yaml
        {{- include "kube-state-metrics.labels" . | indent 8 }} #This is the 28 line in deployment.yaml #This is the 28 line in deployment.yaml #This is the 28 line in deployment.yaml #This is the 28 line in deployment.yaml #This is the 28 line in deployment.yaml
      {{- if .Values.podAnnotations }} #This is the 29 line in deployment.yaml #This is the 29 line in deployment.yaml #This is the 29 line in deployment.yaml #This is the 29 line in deployment.yaml #This is the 29 line in deployment.yaml
      annotations: #This is the 30 line in deployment.yaml #This is the 30 line in deployment.yaml #This is the 30 line in deployment.yaml #This is the 30 line in deployment.yaml #This is the 30 line in deployment.yaml
{{ toYaml .Values.podAnnotations | indent 8 }} #This is the 31 line in deployment.yaml #This is the 31 line in deployment.yaml #This is the 31 line in deployment.yaml #This is the 31 line in deployment.yaml #This is the 31 line in deployment.yaml
      {{- end }} #This is the 32 line in deployment.yaml #This is the 32 line in deployment.yaml #This is the 32 line in deployment.yaml #This is the 32 line in deployment.yaml #This is the 32 line in deployment.yaml
    spec: #This is the 33 line in deployment.yaml #This is the 33 line in deployment.yaml #This is the 33 line in deployment.yaml #This is the 33 line in deployment.yaml #This is the 33 line in deployment.yaml
      hostNetwork: {{ .Values.hostNetwork }} #This is the 34 line in deployment.yaml #This is the 34 line in deployment.yaml #This is the 34 line in deployment.yaml #This is the 34 line in deployment.yaml #This is the 34 line in deployment.yaml
      serviceAccountName: {{ template "kube-state-metrics.serviceAccountName" . }} #This is the 35 line in deployment.yaml #This is the 35 line in deployment.yaml #This is the 35 line in deployment.yaml #This is the 35 line in deployment.yaml #This is the 35 line in deployment.yaml
      {{- if .Values.securityContext.enabled }} #This is the 36 line in deployment.yaml #This is the 36 line in deployment.yaml #This is the 36 line in deployment.yaml #This is the 36 line in deployment.yaml #This is the 36 line in deployment.yaml
      securityContext: {{- omit .Values.securityContext "enabled" | toYaml | nindent 8 }} #This is the 37 line in deployment.yaml #This is the 37 line in deployment.yaml #This is the 37 line in deployment.yaml #This is the 37 line in deployment.yaml #This is the 37 line in deployment.yaml
      {{- end }} #This is the 38 line in deployment.yaml #This is the 38 line in deployment.yaml #This is the 38 line in deployment.yaml #This is the 38 line in deployment.yaml #This is the 38 line in deployment.yaml
    {{- if .Values.priorityClassName }} #This is the 39 line in deployment.yaml #This is the 39 line in deployment.yaml #This is the 39 line in deployment.yaml #This is the 39 line in deployment.yaml #This is the 39 line in deployment.yaml
      priorityClassName: {{ .Values.priorityClassName }} #This is the 40 line in deployment.yaml #This is the 40 line in deployment.yaml #This is the 40 line in deployment.yaml #This is the 40 line in deployment.yaml #This is the 40 line in deployment.yaml
    {{- end }} #This is the 41 line in deployment.yaml #This is the 41 line in deployment.yaml #This is the 41 line in deployment.yaml #This is the 41 line in deployment.yaml #This is the 41 line in deployment.yaml
      containers: #This is the 42 line in deployment.yaml #This is the 42 line in deployment.yaml #This is the 42 line in deployment.yaml #This is the 42 line in deployment.yaml #This is the 42 line in deployment.yaml
      {{- $httpPort := ternary 9090 (.Values.service.port | default 8080) .Values.kubeRBACProxy.enabled}} #This is the 43 line in deployment.yaml #This is the 43 line in deployment.yaml #This is the 43 line in deployment.yaml #This is the 43 line in deployment.yaml #This is the 43 line in deployment.yaml
      {{- $telemetryPort := ternary 9091 (.Values.selfMonitor.telemetryPort | default 8081) .Values.kubeRBACProxy.enabled}} #This is the 44 line in deployment.yaml #This is the 44 line in deployment.yaml #This is the 44 line in deployment.yaml #This is the 44 line in deployment.yaml #This is the 44 line in deployment.yaml
      - name: {{ template "kube-state-metrics.name" . }} #This is the 45 line in deployment.yaml #This is the 45 line in deployment.yaml #This is the 45 line in deployment.yaml #This is the 45 line in deployment.yaml #This is the 45 line in deployment.yaml
        {{- if .Values.autosharding.enabled }} #This is the 46 line in deployment.yaml #This is the 46 line in deployment.yaml #This is the 46 line in deployment.yaml #This is the 46 line in deployment.yaml #This is the 46 line in deployment.yaml
        env: #This is the 47 line in deployment.yaml #This is the 47 line in deployment.yaml #This is the 47 line in deployment.yaml #This is the 47 line in deployment.yaml #This is the 47 line in deployment.yaml
        - name: POD_NAME #This is the 48 line in deployment.yaml #This is the 48 line in deployment.yaml #This is the 48 line in deployment.yaml #This is the 48 line in deployment.yaml #This is the 48 line in deployment.yaml
          valueFrom: #This is the 49 line in deployment.yaml #This is the 49 line in deployment.yaml #This is the 49 line in deployment.yaml #This is the 49 line in deployment.yaml #This is the 49 line in deployment.yaml
            fieldRef: #This is the 50 line in deployment.yaml #This is the 50 line in deployment.yaml #This is the 50 line in deployment.yaml #This is the 50 line in deployment.yaml #This is the 50 line in deployment.yaml
              fieldPath: metadata.name #This is the 51 line in deployment.yaml #This is the 51 line in deployment.yaml #This is the 51 line in deployment.yaml #This is the 51 line in deployment.yaml #This is the 51 line in deployment.yaml
        - name: POD_NAMESPACE #This is the 52 line in deployment.yaml #This is the 52 line in deployment.yaml #This is the 52 line in deployment.yaml #This is the 52 line in deployment.yaml #This is the 52 line in deployment.yaml
          valueFrom: #This is the 53 line in deployment.yaml #This is the 53 line in deployment.yaml #This is the 53 line in deployment.yaml #This is the 53 line in deployment.yaml #This is the 53 line in deployment.yaml
            fieldRef: #This is the 54 line in deployment.yaml #This is the 54 line in deployment.yaml #This is the 54 line in deployment.yaml #This is the 54 line in deployment.yaml #This is the 54 line in deployment.yaml
              fieldPath: metadata.namespace #This is the 55 line in deployment.yaml #This is the 55 line in deployment.yaml #This is the 55 line in deployment.yaml #This is the 55 line in deployment.yaml #This is the 55 line in deployment.yaml
        {{- end }} #This is the 56 line in deployment.yaml #This is the 56 line in deployment.yaml #This is the 56 line in deployment.yaml #This is the 56 line in deployment.yaml #This is the 56 line in deployment.yaml
        args: #This is the 57 line in deployment.yaml #This is the 57 line in deployment.yaml #This is the 57 line in deployment.yaml #This is the 57 line in deployment.yaml #This is the 57 line in deployment.yaml
        {{-  if .Values.extraArgs  }} #This is the 58 line in deployment.yaml #This is the 58 line in deployment.yaml #This is the 58 line in deployment.yaml #This is the 58 line in deployment.yaml #This is the 58 line in deployment.yaml
        {{- .Values.extraArgs | toYaml | nindent 8 }} #This is the 59 line in deployment.yaml #This is the 59 line in deployment.yaml #This is the 59 line in deployment.yaml #This is the 59 line in deployment.yaml #This is the 59 line in deployment.yaml
        {{-  end  }} #This is the 60 line in deployment.yaml #This is the 60 line in deployment.yaml #This is the 60 line in deployment.yaml #This is the 60 line in deployment.yaml #This is the 60 line in deployment.yaml
        - --port={{ $httpPort }} #This is the 61 line in deployment.yaml #This is the 61 line in deployment.yaml #This is the 61 line in deployment.yaml #This is the 61 line in deployment.yaml #This is the 61 line in deployment.yaml
        {{-  if .Values.collectors  }} #This is the 62 line in deployment.yaml #This is the 62 line in deployment.yaml #This is the 62 line in deployment.yaml #This is the 62 line in deployment.yaml #This is the 62 line in deployment.yaml
        - --resources={{ .Values.collectors | join "," }} #This is the 63 line in deployment.yaml #This is the 63 line in deployment.yaml #This is the 63 line in deployment.yaml #This is the 63 line in deployment.yaml #This is the 63 line in deployment.yaml
        {{-  end  }} #This is the 64 line in deployment.yaml #This is the 64 line in deployment.yaml #This is the 64 line in deployment.yaml #This is the 64 line in deployment.yaml #This is the 64 line in deployment.yaml
        {{- if .Values.metricLabelsAllowlist }} #This is the 65 line in deployment.yaml #This is the 65 line in deployment.yaml #This is the 65 line in deployment.yaml #This is the 65 line in deployment.yaml #This is the 65 line in deployment.yaml
        - --metric-labels-allowlist={{ .Values.metricLabelsAllowlist | join "," }} #This is the 66 line in deployment.yaml #This is the 66 line in deployment.yaml #This is the 66 line in deployment.yaml #This is the 66 line in deployment.yaml #This is the 66 line in deployment.yaml
        {{- end }} #This is the 67 line in deployment.yaml #This is the 67 line in deployment.yaml #This is the 67 line in deployment.yaml #This is the 67 line in deployment.yaml #This is the 67 line in deployment.yaml
        {{- if .Values.metricAnnotationsAllowList }} #This is the 68 line in deployment.yaml #This is the 68 line in deployment.yaml #This is the 68 line in deployment.yaml #This is the 68 line in deployment.yaml #This is the 68 line in deployment.yaml
        - --metric-annotations-allowlist={{ .Values.metricAnnotationsAllowList | join "," }} #This is the 69 line in deployment.yaml #This is the 69 line in deployment.yaml #This is the 69 line in deployment.yaml #This is the 69 line in deployment.yaml #This is the 69 line in deployment.yaml
        {{- end }} #This is the 70 line in deployment.yaml #This is the 70 line in deployment.yaml #This is the 70 line in deployment.yaml #This is the 70 line in deployment.yaml #This is the 70 line in deployment.yaml
        {{- if .Values.metricAllowlist }} #This is the 71 line in deployment.yaml #This is the 71 line in deployment.yaml #This is the 71 line in deployment.yaml #This is the 71 line in deployment.yaml #This is the 71 line in deployment.yaml
        - --metric-allowlist={{ .Values.metricAllowlist | join "," }} #This is the 72 line in deployment.yaml #This is the 72 line in deployment.yaml #This is the 72 line in deployment.yaml #This is the 72 line in deployment.yaml #This is the 72 line in deployment.yaml
        {{- end }} #This is the 73 line in deployment.yaml #This is the 73 line in deployment.yaml #This is the 73 line in deployment.yaml #This is the 73 line in deployment.yaml #This is the 73 line in deployment.yaml
        {{- if .Values.metricDenylist }} #This is the 74 line in deployment.yaml #This is the 74 line in deployment.yaml #This is the 74 line in deployment.yaml #This is the 74 line in deployment.yaml #This is the 74 line in deployment.yaml
        - --metric-denylist={{ .Values.metricDenylist | join "," }} #This is the 75 line in deployment.yaml #This is the 75 line in deployment.yaml #This is the 75 line in deployment.yaml #This is the 75 line in deployment.yaml #This is the 75 line in deployment.yaml
        {{- end }} #This is the 76 line in deployment.yaml #This is the 76 line in deployment.yaml #This is the 76 line in deployment.yaml #This is the 76 line in deployment.yaml #This is the 76 line in deployment.yaml
        {{- $namespaces := list }} #This is the 77 line in deployment.yaml #This is the 77 line in deployment.yaml #This is the 77 line in deployment.yaml #This is the 77 line in deployment.yaml #This is the 77 line in deployment.yaml
        {{- if .Values.namespaces }} #This is the 78 line in deployment.yaml #This is the 78 line in deployment.yaml #This is the 78 line in deployment.yaml #This is the 78 line in deployment.yaml #This is the 78 line in deployment.yaml
        {{- range $ns := join "," .Values.namespaces | split "," }} #This is the 79 line in deployment.yaml #This is the 79 line in deployment.yaml #This is the 79 line in deployment.yaml #This is the 79 line in deployment.yaml #This is the 79 line in deployment.yaml
        {{- $namespaces = append $namespaces (tpl $ns $) }} #This is the 80 line in deployment.yaml #This is the 80 line in deployment.yaml #This is the 80 line in deployment.yaml #This is the 80 line in deployment.yaml #This is the 80 line in deployment.yaml
        {{- end }} #This is the 81 line in deployment.yaml #This is the 81 line in deployment.yaml #This is the 81 line in deployment.yaml #This is the 81 line in deployment.yaml #This is the 81 line in deployment.yaml
        {{- end }} #This is the 82 line in deployment.yaml #This is the 82 line in deployment.yaml #This is the 82 line in deployment.yaml #This is the 82 line in deployment.yaml #This is the 82 line in deployment.yaml
        {{- if .Values.releaseNamespace }} #This is the 83 line in deployment.yaml #This is the 83 line in deployment.yaml #This is the 83 line in deployment.yaml #This is the 83 line in deployment.yaml #This is the 83 line in deployment.yaml
        {{- $namespaces = append $namespaces ( include "kube-state-metrics.namespace" . ) }} #This is the 84 line in deployment.yaml #This is the 84 line in deployment.yaml #This is the 84 line in deployment.yaml #This is the 84 line in deployment.yaml #This is the 84 line in deployment.yaml
        {{- end }} #This is the 85 line in deployment.yaml #This is the 85 line in deployment.yaml #This is the 85 line in deployment.yaml #This is the 85 line in deployment.yaml #This is the 85 line in deployment.yaml
        {{- if $namespaces }} #This is the 86 line in deployment.yaml #This is the 86 line in deployment.yaml #This is the 86 line in deployment.yaml #This is the 86 line in deployment.yaml #This is the 86 line in deployment.yaml
        - --namespaces={{ $namespaces | mustUniq | join "," }} #This is the 87 line in deployment.yaml #This is the 87 line in deployment.yaml #This is the 87 line in deployment.yaml #This is the 87 line in deployment.yaml #This is the 87 line in deployment.yaml
        {{- end }} #This is the 88 line in deployment.yaml #This is the 88 line in deployment.yaml #This is the 88 line in deployment.yaml #This is the 88 line in deployment.yaml #This is the 88 line in deployment.yaml
        {{- if .Values.namespacesDenylist }} #This is the 89 line in deployment.yaml #This is the 89 line in deployment.yaml #This is the 89 line in deployment.yaml #This is the 89 line in deployment.yaml #This is the 89 line in deployment.yaml
        - --namespaces-denylist={{ tpl (.Values.namespacesDenylist | join ",") $ }} #This is the 90 line in deployment.yaml #This is the 90 line in deployment.yaml #This is the 90 line in deployment.yaml #This is the 90 line in deployment.yaml #This is the 90 line in deployment.yaml
        {{- end }} #This is the 91 line in deployment.yaml #This is the 91 line in deployment.yaml #This is the 91 line in deployment.yaml #This is the 91 line in deployment.yaml #This is the 91 line in deployment.yaml
        {{- if .Values.autosharding.enabled }} #This is the 92 line in deployment.yaml #This is the 92 line in deployment.yaml #This is the 92 line in deployment.yaml #This is the 92 line in deployment.yaml #This is the 92 line in deployment.yaml
        - --pod=$(POD_NAME) #This is the 93 line in deployment.yaml #This is the 93 line in deployment.yaml #This is the 93 line in deployment.yaml #This is the 93 line in deployment.yaml #This is the 93 line in deployment.yaml
        - --pod-namespace=$(POD_NAMESPACE) #This is the 94 line in deployment.yaml #This is the 94 line in deployment.yaml #This is the 94 line in deployment.yaml #This is the 94 line in deployment.yaml #This is the 94 line in deployment.yaml
        {{- end }} #This is the 95 line in deployment.yaml #This is the 95 line in deployment.yaml #This is the 95 line in deployment.yaml #This is the 95 line in deployment.yaml #This is the 95 line in deployment.yaml
        {{- if .Values.kubeconfig.enabled }} #This is the 96 line in deployment.yaml #This is the 96 line in deployment.yaml #This is the 96 line in deployment.yaml #This is the 96 line in deployment.yaml #This is the 96 line in deployment.yaml
        - --kubeconfig=/opt/k8s/.kube/config #This is the 97 line in deployment.yaml #This is the 97 line in deployment.yaml #This is the 97 line in deployment.yaml #This is the 97 line in deployment.yaml #This is the 97 line in deployment.yaml
        {{- end }} #This is the 98 line in deployment.yaml #This is the 98 line in deployment.yaml #This is the 98 line in deployment.yaml #This is the 98 line in deployment.yaml #This is the 98 line in deployment.yaml
        {{- if .Values.kubeRBACProxy.enabled }} #This is the 99 line in deployment.yaml #This is the 99 line in deployment.yaml #This is the 99 line in deployment.yaml #This is the 99 line in deployment.yaml #This is the 99 line in deployment.yaml
        - --telemetry-host=127.0.0.1 #This is the 100 line in deployment.yaml #This is the 100 line in deployment.yaml #This is the 100 line in deployment.yaml #This is the 100 line in deployment.yaml #This is the 100 line in deployment.yaml
        - --telemetry-port={{ $telemetryPort }} #This is the 101 line in deployment.yaml #This is the 101 line in deployment.yaml #This is the 101 line in deployment.yaml #This is the 101 line in deployment.yaml #This is the 101 line in deployment.yaml
        {{- else }} #This is the 102 line in deployment.yaml #This is the 102 line in deployment.yaml #This is the 102 line in deployment.yaml #This is the 102 line in deployment.yaml #This is the 102 line in deployment.yaml
        {{- if .Values.selfMonitor.telemetryHost }} #This is the 103 line in deployment.yaml #This is the 103 line in deployment.yaml #This is the 103 line in deployment.yaml #This is the 103 line in deployment.yaml #This is the 103 line in deployment.yaml
        - --telemetry-host={{ .Values.selfMonitor.telemetryHost }} #This is the 104 line in deployment.yaml #This is the 104 line in deployment.yaml #This is the 104 line in deployment.yaml #This is the 104 line in deployment.yaml #This is the 104 line in deployment.yaml
        {{- end }} #This is the 105 line in deployment.yaml #This is the 105 line in deployment.yaml #This is the 105 line in deployment.yaml #This is the 105 line in deployment.yaml #This is the 105 line in deployment.yaml
        {{- if .Values.selfMonitor.telemetryPort }} #This is the 106 line in deployment.yaml #This is the 106 line in deployment.yaml #This is the 106 line in deployment.yaml #This is the 106 line in deployment.yaml #This is the 106 line in deployment.yaml
        - --telemetry-port={{ $telemetryPort }} #This is the 107 line in deployment.yaml #This is the 107 line in deployment.yaml #This is the 107 line in deployment.yaml #This is the 107 line in deployment.yaml #This is the 107 line in deployment.yaml
        {{- end }} #This is the 108 line in deployment.yaml #This is the 108 line in deployment.yaml #This is the 108 line in deployment.yaml #This is the 108 line in deployment.yaml #This is the 108 line in deployment.yaml
        {{- end }} #This is the 109 line in deployment.yaml #This is the 109 line in deployment.yaml #This is the 109 line in deployment.yaml #This is the 109 line in deployment.yaml #This is the 109 line in deployment.yaml
        {{- if or (.Values.kubeconfig.enabled) (.Values.volumeMounts) }} #This is the 110 line in deployment.yaml #This is the 110 line in deployment.yaml #This is the 110 line in deployment.yaml #This is the 110 line in deployment.yaml #This is the 110 line in deployment.yaml
        volumeMounts: #This is the 111 line in deployment.yaml #This is the 111 line in deployment.yaml #This is the 111 line in deployment.yaml #This is the 111 line in deployment.yaml #This is the 111 line in deployment.yaml
        {{- if .Values.kubeconfig.enabled }} #This is the 112 line in deployment.yaml #This is the 112 line in deployment.yaml #This is the 112 line in deployment.yaml #This is the 112 line in deployment.yaml #This is the 112 line in deployment.yaml
        - name: kubeconfig #This is the 113 line in deployment.yaml #This is the 113 line in deployment.yaml #This is the 113 line in deployment.yaml #This is the 113 line in deployment.yaml #This is the 113 line in deployment.yaml
          mountPath: /opt/k8s/.kube/ #This is the 114 line in deployment.yaml #This is the 114 line in deployment.yaml #This is the 114 line in deployment.yaml #This is the 114 line in deployment.yaml #This is the 114 line in deployment.yaml
          readOnly: true #This is the 115 line in deployment.yaml #This is the 115 line in deployment.yaml #This is the 115 line in deployment.yaml #This is the 115 line in deployment.yaml #This is the 115 line in deployment.yaml
        {{- end }} #This is the 116 line in deployment.yaml #This is the 116 line in deployment.yaml #This is the 116 line in deployment.yaml #This is the 116 line in deployment.yaml #This is the 116 line in deployment.yaml
        {{- if .Values.volumeMounts }} #This is the 117 line in deployment.yaml #This is the 117 line in deployment.yaml #This is the 117 line in deployment.yaml #This is the 117 line in deployment.yaml #This is the 117 line in deployment.yaml
{{ toYaml .Values.volumeMounts | indent 8 }} #This is the 118 line in deployment.yaml #This is the 118 line in deployment.yaml #This is the 118 line in deployment.yaml #This is the 118 line in deployment.yaml #This is the 118 line in deployment.yaml
        {{- end }} #This is the 119 line in deployment.yaml #This is the 119 line in deployment.yaml #This is the 119 line in deployment.yaml #This is the 119 line in deployment.yaml #This is the 119 line in deployment.yaml
        {{- end }} #This is the 120 line in deployment.yaml #This is the 120 line in deployment.yaml #This is the 120 line in deployment.yaml #This is the 120 line in deployment.yaml #This is the 120 line in deployment.yaml
        imagePullPolicy: {{ .Values.image.pullPolicy }} #This is the 121 line in deployment.yaml #This is the 121 line in deployment.yaml #This is the 121 line in deployment.yaml #This is the 121 line in deployment.yaml #This is the 121 line in deployment.yaml
        image: {{ include "kube-state-metrics.image" . }} #This is the 122 line in deployment.yaml #This is the 122 line in deployment.yaml #This is the 122 line in deployment.yaml #This is the 122 line in deployment.yaml #This is the 122 line in deployment.yaml
        {{- if eq .Values.kubeRBACProxy.enabled false }} #This is the 123 line in deployment.yaml #This is the 123 line in deployment.yaml #This is the 123 line in deployment.yaml #This is the 123 line in deployment.yaml #This is the 123 line in deployment.yaml
        ports: #This is the 124 line in deployment.yaml #This is the 124 line in deployment.yaml #This is the 124 line in deployment.yaml #This is the 124 line in deployment.yaml #This is the 124 line in deployment.yaml
        - containerPort: {{ .Values.service.port | default 8080}} #This is the 125 line in deployment.yaml #This is the 125 line in deployment.yaml #This is the 125 line in deployment.yaml #This is the 125 line in deployment.yaml #This is the 125 line in deployment.yaml
          name: "http" #This is the 126 line in deployment.yaml #This is the 126 line in deployment.yaml #This is the 126 line in deployment.yaml #This is the 126 line in deployment.yaml #This is the 126 line in deployment.yaml
        {{- if .Values.selfMonitor.enabled }} #This is the 127 line in deployment.yaml #This is the 127 line in deployment.yaml #This is the 127 line in deployment.yaml #This is the 127 line in deployment.yaml #This is the 127 line in deployment.yaml
        - containerPort: {{ $telemetryPort }} #This is the 128 line in deployment.yaml #This is the 128 line in deployment.yaml #This is the 128 line in deployment.yaml #This is the 128 line in deployment.yaml #This is the 128 line in deployment.yaml
          name: "metrics" #This is the 129 line in deployment.yaml #This is the 129 line in deployment.yaml #This is the 129 line in deployment.yaml #This is the 129 line in deployment.yaml #This is the 129 line in deployment.yaml
        {{- end }} #This is the 130 line in deployment.yaml #This is the 130 line in deployment.yaml #This is the 130 line in deployment.yaml #This is the 130 line in deployment.yaml #This is the 130 line in deployment.yaml
        {{- end }} #This is the 131 line in deployment.yaml #This is the 131 line in deployment.yaml #This is the 131 line in deployment.yaml #This is the 131 line in deployment.yaml #This is the 131 line in deployment.yaml
        livenessProbe: #This is the 132 line in deployment.yaml #This is the 132 line in deployment.yaml #This is the 132 line in deployment.yaml #This is the 132 line in deployment.yaml #This is the 132 line in deployment.yaml
          httpGet: #This is the 133 line in deployment.yaml #This is the 133 line in deployment.yaml #This is the 133 line in deployment.yaml #This is the 133 line in deployment.yaml #This is the 133 line in deployment.yaml
            path: /healthz #This is the 134 line in deployment.yaml #This is the 134 line in deployment.yaml #This is the 134 line in deployment.yaml #This is the 134 line in deployment.yaml #This is the 134 line in deployment.yaml
            port: {{ $httpPort }} #This is the 135 line in deployment.yaml #This is the 135 line in deployment.yaml #This is the 135 line in deployment.yaml #This is the 135 line in deployment.yaml #This is the 135 line in deployment.yaml
          initialDelaySeconds: 5 #This is the 136 line in deployment.yaml #This is the 136 line in deployment.yaml #This is the 136 line in deployment.yaml #This is the 136 line in deployment.yaml #This is the 136 line in deployment.yaml
          timeoutSeconds: 5 #This is the 137 line in deployment.yaml #This is the 137 line in deployment.yaml #This is the 137 line in deployment.yaml #This is the 137 line in deployment.yaml #This is the 137 line in deployment.yaml
        readinessProbe: #This is the 138 line in deployment.yaml #This is the 138 line in deployment.yaml #This is the 138 line in deployment.yaml #This is the 138 line in deployment.yaml #This is the 138 line in deployment.yaml
          httpGet: #This is the 139 line in deployment.yaml #This is the 139 line in deployment.yaml #This is the 139 line in deployment.yaml #This is the 139 line in deployment.yaml #This is the 139 line in deployment.yaml
            path: / #This is the 140 line in deployment.yaml #This is the 140 line in deployment.yaml #This is the 140 line in deployment.yaml #This is the 140 line in deployment.yaml #This is the 140 line in deployment.yaml
            port: {{ $httpPort }} #This is the 141 line in deployment.yaml #This is the 141 line in deployment.yaml #This is the 141 line in deployment.yaml #This is the 141 line in deployment.yaml #This is the 141 line in deployment.yaml
          initialDelaySeconds: 5 #This is the 142 line in deployment.yaml #This is the 142 line in deployment.yaml #This is the 142 line in deployment.yaml #This is the 142 line in deployment.yaml #This is the 142 line in deployment.yaml
          timeoutSeconds: 5 #This is the 143 line in deployment.yaml #This is the 143 line in deployment.yaml #This is the 143 line in deployment.yaml #This is the 143 line in deployment.yaml #This is the 143 line in deployment.yaml
        {{- if .Values.resources }} #This is the 144 line in deployment.yaml #This is the 144 line in deployment.yaml #This is the 144 line in deployment.yaml #This is the 144 line in deployment.yaml #This is the 144 line in deployment.yaml
        resources: #This is the 145 line in deployment.yaml #This is the 145 line in deployment.yaml #This is the 145 line in deployment.yaml #This is the 145 line in deployment.yaml #This is the 145 line in deployment.yaml
{{ toYaml .Values.resources | indent 10 }} #This is the 146 line in deployment.yaml #This is the 146 line in deployment.yaml #This is the 146 line in deployment.yaml #This is the 146 line in deployment.yaml #This is the 146 line in deployment.yaml
{{- end }} #This is the 147 line in deployment.yaml #This is the 147 line in deployment.yaml #This is the 147 line in deployment.yaml #This is the 147 line in deployment.yaml #This is the 147 line in deployment.yaml
{{- if .Values.containerSecurityContext }} #This is the 148 line in deployment.yaml #This is the 148 line in deployment.yaml #This is the 148 line in deployment.yaml #This is the 148 line in deployment.yaml #This is the 148 line in deployment.yaml
        securityContext: #This is the 149 line in deployment.yaml #This is the 149 line in deployment.yaml #This is the 149 line in deployment.yaml #This is the 149 line in deployment.yaml #This is the 149 line in deployment.yaml
{{ toYaml .Values.containerSecurityContext | indent 10 }} #This is the 150 line in deployment.yaml #This is the 150 line in deployment.yaml #This is the 150 line in deployment.yaml #This is the 150 line in deployment.yaml #This is the 150 line in deployment.yaml
{{- end }} #This is the 151 line in deployment.yaml #This is the 151 line in deployment.yaml #This is the 151 line in deployment.yaml #This is the 151 line in deployment.yaml #This is the 151 line in deployment.yaml
        {{-  if .Values.kubeRBACProxy.enabled  }} #This is the 152 line in deployment.yaml #This is the 152 line in deployment.yaml #This is the 152 line in deployment.yaml #This is the 152 line in deployment.yaml #This is the 152 line in deployment.yaml
      - name: kube-rbac-proxy-http #This is the 153 line in deployment.yaml #This is the 153 line in deployment.yaml #This is the 153 line in deployment.yaml #This is the 153 line in deployment.yaml #This is the 153 line in deployment.yaml
        args: #This is the 154 line in deployment.yaml #This is the 154 line in deployment.yaml #This is the 154 line in deployment.yaml #This is the 154 line in deployment.yaml #This is the 154 line in deployment.yaml
        {{-  if .Values.kubeRBACProxy.extraArgs  }} #This is the 155 line in deployment.yaml #This is the 155 line in deployment.yaml #This is the 155 line in deployment.yaml #This is the 155 line in deployment.yaml #This is the 155 line in deployment.yaml
        {{- .Values.kubeRBACProxy.extraArgs | toYaml | nindent 8 }} #This is the 156 line in deployment.yaml #This is the 156 line in deployment.yaml #This is the 156 line in deployment.yaml #This is the 156 line in deployment.yaml #This is the 156 line in deployment.yaml
        {{-  end  }} #This is the 157 line in deployment.yaml #This is the 157 line in deployment.yaml #This is the 157 line in deployment.yaml #This is the 157 line in deployment.yaml #This is the 157 line in deployment.yaml
        - --secure-listen-address=:{{ .Values.service.port | default 8080}} #This is the 158 line in deployment.yaml #This is the 158 line in deployment.yaml #This is the 158 line in deployment.yaml #This is the 158 line in deployment.yaml #This is the 158 line in deployment.yaml
        - --upstream=http://127.0.0.1:{{ $httpPort }}/ #This is the 159 line in deployment.yaml #This is the 159 line in deployment.yaml #This is the 159 line in deployment.yaml #This is the 159 line in deployment.yaml #This is the 159 line in deployment.yaml
        - --proxy-endpoints-port=8888 #This is the 160 line in deployment.yaml #This is the 160 line in deployment.yaml #This is the 160 line in deployment.yaml #This is the 160 line in deployment.yaml #This is the 160 line in deployment.yaml
        - --config-file=/etc/kube-rbac-proxy-config/config-file.yaml #This is the 161 line in deployment.yaml #This is the 161 line in deployment.yaml #This is the 161 line in deployment.yaml #This is the 161 line in deployment.yaml #This is the 161 line in deployment.yaml
        volumeMounts: #This is the 162 line in deployment.yaml #This is the 162 line in deployment.yaml #This is the 162 line in deployment.yaml #This is the 162 line in deployment.yaml #This is the 162 line in deployment.yaml
          - name: kube-rbac-proxy-config #This is the 163 line in deployment.yaml #This is the 163 line in deployment.yaml #This is the 163 line in deployment.yaml #This is the 163 line in deployment.yaml #This is the 163 line in deployment.yaml
            mountPath: /etc/kube-rbac-proxy-config #This is the 164 line in deployment.yaml #This is the 164 line in deployment.yaml #This is the 164 line in deployment.yaml #This is the 164 line in deployment.yaml #This is the 164 line in deployment.yaml
          {{- with .Values.kubeRBACProxy.volumeMounts }} #This is the 165 line in deployment.yaml #This is the 165 line in deployment.yaml #This is the 165 line in deployment.yaml #This is the 165 line in deployment.yaml #This is the 165 line in deployment.yaml
          {{- toYaml . | nindent 10 }} #This is the 166 line in deployment.yaml #This is the 166 line in deployment.yaml #This is the 166 line in deployment.yaml #This is the 166 line in deployment.yaml #This is the 166 line in deployment.yaml
          {{- end }} #This is the 167 line in deployment.yaml #This is the 167 line in deployment.yaml #This is the 167 line in deployment.yaml #This is the 167 line in deployment.yaml #This is the 167 line in deployment.yaml
        imagePullPolicy: {{ .Values.kubeRBACProxy.image.pullPolicy }} #This is the 168 line in deployment.yaml #This is the 168 line in deployment.yaml #This is the 168 line in deployment.yaml #This is the 168 line in deployment.yaml #This is the 168 line in deployment.yaml
        image: {{ include "kubeRBACProxy.image" . }} #This is the 169 line in deployment.yaml #This is the 169 line in deployment.yaml #This is the 169 line in deployment.yaml #This is the 169 line in deployment.yaml #This is the 169 line in deployment.yaml
        ports: #This is the 170 line in deployment.yaml #This is the 170 line in deployment.yaml #This is the 170 line in deployment.yaml #This is the 170 line in deployment.yaml #This is the 170 line in deployment.yaml
          - containerPort: {{ .Values.service.port | default 8080}} #This is the 171 line in deployment.yaml #This is the 171 line in deployment.yaml #This is the 171 line in deployment.yaml #This is the 171 line in deployment.yaml #This is the 171 line in deployment.yaml
            name: "http" #This is the 172 line in deployment.yaml #This is the 172 line in deployment.yaml #This is the 172 line in deployment.yaml #This is the 172 line in deployment.yaml #This is the 172 line in deployment.yaml
          - containerPort: 8888 #This is the 173 line in deployment.yaml #This is the 173 line in deployment.yaml #This is the 173 line in deployment.yaml #This is the 173 line in deployment.yaml #This is the 173 line in deployment.yaml
            name: "http-healthz" #This is the 174 line in deployment.yaml #This is the 174 line in deployment.yaml #This is the 174 line in deployment.yaml #This is the 174 line in deployment.yaml #This is the 174 line in deployment.yaml
        readinessProbe: #This is the 175 line in deployment.yaml #This is the 175 line in deployment.yaml #This is the 175 line in deployment.yaml #This is the 175 line in deployment.yaml #This is the 175 line in deployment.yaml
          httpGet: #This is the 176 line in deployment.yaml #This is the 176 line in deployment.yaml #This is the 176 line in deployment.yaml #This is the 176 line in deployment.yaml #This is the 176 line in deployment.yaml
            scheme: HTTPS #This is the 177 line in deployment.yaml #This is the 177 line in deployment.yaml #This is the 177 line in deployment.yaml #This is the 177 line in deployment.yaml #This is the 177 line in deployment.yaml
            port: 8888 #This is the 178 line in deployment.yaml #This is the 178 line in deployment.yaml #This is the 178 line in deployment.yaml #This is the 178 line in deployment.yaml #This is the 178 line in deployment.yaml
            path: healthz #This is the 179 line in deployment.yaml #This is the 179 line in deployment.yaml #This is the 179 line in deployment.yaml #This is the 179 line in deployment.yaml #This is the 179 line in deployment.yaml
          initialDelaySeconds: 5 #This is the 180 line in deployment.yaml #This is the 180 line in deployment.yaml #This is the 180 line in deployment.yaml #This is the 180 line in deployment.yaml #This is the 180 line in deployment.yaml
          timeoutSeconds: 5 #This is the 181 line in deployment.yaml #This is the 181 line in deployment.yaml #This is the 181 line in deployment.yaml #This is the 181 line in deployment.yaml #This is the 181 line in deployment.yaml
        {{- if .Values.kubeRBACProxy.resources }} #This is the 182 line in deployment.yaml #This is the 182 line in deployment.yaml #This is the 182 line in deployment.yaml #This is the 182 line in deployment.yaml #This is the 182 line in deployment.yaml
        resources: #This is the 183 line in deployment.yaml #This is the 183 line in deployment.yaml #This is the 183 line in deployment.yaml #This is the 183 line in deployment.yaml #This is the 183 line in deployment.yaml
{{ toYaml .Values.kubeRBACProxy.resources | indent 10 }} #This is the 184 line in deployment.yaml #This is the 184 line in deployment.yaml #This is the 184 line in deployment.yaml #This is the 184 line in deployment.yaml #This is the 184 line in deployment.yaml
{{- end }} #This is the 185 line in deployment.yaml #This is the 185 line in deployment.yaml #This is the 185 line in deployment.yaml #This is the 185 line in deployment.yaml #This is the 185 line in deployment.yaml
{{- if .Values.kubeRBACProxy.containerSecurityContext }} #This is the 186 line in deployment.yaml #This is the 186 line in deployment.yaml #This is the 186 line in deployment.yaml #This is the 186 line in deployment.yaml #This is the 186 line in deployment.yaml
        securityContext: #This is the 187 line in deployment.yaml #This is the 187 line in deployment.yaml #This is the 187 line in deployment.yaml #This is the 187 line in deployment.yaml #This is the 187 line in deployment.yaml
{{ toYaml .Values.kubeRBACProxy.containerSecurityContext | indent 10 }} #This is the 188 line in deployment.yaml #This is the 188 line in deployment.yaml #This is the 188 line in deployment.yaml #This is the 188 line in deployment.yaml #This is the 188 line in deployment.yaml
{{- end }} #This is the 189 line in deployment.yaml #This is the 189 line in deployment.yaml #This is the 189 line in deployment.yaml #This is the 189 line in deployment.yaml #This is the 189 line in deployment.yaml
      {{-  if .Values.selfMonitor.enabled  }} #This is the 190 line in deployment.yaml #This is the 190 line in deployment.yaml #This is the 190 line in deployment.yaml #This is the 190 line in deployment.yaml #This is the 190 line in deployment.yaml
      - name: kube-rbac-proxy-telemetry #This is the 191 line in deployment.yaml #This is the 191 line in deployment.yaml #This is the 191 line in deployment.yaml #This is the 191 line in deployment.yaml #This is the 191 line in deployment.yaml
        args: #This is the 192 line in deployment.yaml #This is the 192 line in deployment.yaml #This is the 192 line in deployment.yaml #This is the 192 line in deployment.yaml #This is the 192 line in deployment.yaml
        {{-  if .Values.kubeRBACProxy.extraArgs  }} #This is the 193 line in deployment.yaml #This is the 193 line in deployment.yaml #This is the 193 line in deployment.yaml #This is the 193 line in deployment.yaml #This is the 193 line in deployment.yaml
        {{- .Values.kubeRBACProxy.extraArgs | toYaml | nindent 8 }} #This is the 194 line in deployment.yaml #This is the 194 line in deployment.yaml #This is the 194 line in deployment.yaml #This is the 194 line in deployment.yaml #This is the 194 line in deployment.yaml
        {{-  end  }} #This is the 195 line in deployment.yaml #This is the 195 line in deployment.yaml #This is the 195 line in deployment.yaml #This is the 195 line in deployment.yaml #This is the 195 line in deployment.yaml
        - --secure-listen-address=:{{ .Values.selfMonitor.telemetryPort | default 8081 }} #This is the 196 line in deployment.yaml #This is the 196 line in deployment.yaml #This is the 196 line in deployment.yaml #This is the 196 line in deployment.yaml #This is the 196 line in deployment.yaml
        - --upstream=http://127.0.0.1:{{ $telemetryPort }}/ #This is the 197 line in deployment.yaml #This is the 197 line in deployment.yaml #This is the 197 line in deployment.yaml #This is the 197 line in deployment.yaml #This is the 197 line in deployment.yaml
        - --proxy-endpoints-port=8889 #This is the 198 line in deployment.yaml #This is the 198 line in deployment.yaml #This is the 198 line in deployment.yaml #This is the 198 line in deployment.yaml #This is the 198 line in deployment.yaml
        - --config-file=/etc/kube-rbac-proxy-config/config-file.yaml #This is the 199 line in deployment.yaml #This is the 199 line in deployment.yaml #This is the 199 line in deployment.yaml #This is the 199 line in deployment.yaml #This is the 199 line in deployment.yaml
        volumeMounts: #This is the 200 line in deployment.yaml #This is the 200 line in deployment.yaml #This is the 200 line in deployment.yaml #This is the 200 line in deployment.yaml #This is the 200 line in deployment.yaml
          - name: kube-rbac-proxy-config #This is the 201 line in deployment.yaml #This is the 201 line in deployment.yaml #This is the 201 line in deployment.yaml #This is the 201 line in deployment.yaml #This is the 201 line in deployment.yaml
            mountPath: /etc/kube-rbac-proxy-config #This is the 202 line in deployment.yaml #This is the 202 line in deployment.yaml #This is the 202 line in deployment.yaml #This is the 202 line in deployment.yaml #This is the 202 line in deployment.yaml
          {{- with .Values.kubeRBACProxy.volumeMounts }} #This is the 203 line in deployment.yaml #This is the 203 line in deployment.yaml #This is the 203 line in deployment.yaml #This is the 203 line in deployment.yaml #This is the 203 line in deployment.yaml
          {{- toYaml . | nindent 10 }} #This is the 204 line in deployment.yaml #This is the 204 line in deployment.yaml #This is the 204 line in deployment.yaml #This is the 204 line in deployment.yaml #This is the 204 line in deployment.yaml
          {{- end }} #This is the 205 line in deployment.yaml #This is the 205 line in deployment.yaml #This is the 205 line in deployment.yaml #This is the 205 line in deployment.yaml #This is the 205 line in deployment.yaml
        imagePullPolicy: {{ .Values.kubeRBACProxy.image.pullPolicy }} #This is the 206 line in deployment.yaml #This is the 206 line in deployment.yaml #This is the 206 line in deployment.yaml #This is the 206 line in deployment.yaml #This is the 206 line in deployment.yaml
        image: {{ include "kubeRBACProxy.image" . }} #This is the 207 line in deployment.yaml #This is the 207 line in deployment.yaml #This is the 207 line in deployment.yaml #This is the 207 line in deployment.yaml #This is the 207 line in deployment.yaml
        ports: #This is the 208 line in deployment.yaml #This is the 208 line in deployment.yaml #This is the 208 line in deployment.yaml #This is the 208 line in deployment.yaml #This is the 208 line in deployment.yaml
          - containerPort: {{ .Values.selfMonitor.telemetryPort | default 8081 }} #This is the 209 line in deployment.yaml #This is the 209 line in deployment.yaml #This is the 209 line in deployment.yaml #This is the 209 line in deployment.yaml #This is the 209 line in deployment.yaml
            name: "metrics" #This is the 210 line in deployment.yaml #This is the 210 line in deployment.yaml #This is the 210 line in deployment.yaml #This is the 210 line in deployment.yaml #This is the 210 line in deployment.yaml
          - containerPort: 8889 #This is the 211 line in deployment.yaml #This is the 211 line in deployment.yaml #This is the 211 line in deployment.yaml #This is the 211 line in deployment.yaml #This is the 211 line in deployment.yaml
            name: "metrics-healthz" #This is the 212 line in deployment.yaml #This is the 212 line in deployment.yaml #This is the 212 line in deployment.yaml #This is the 212 line in deployment.yaml #This is the 212 line in deployment.yaml
        readinessProbe: #This is the 213 line in deployment.yaml #This is the 213 line in deployment.yaml #This is the 213 line in deployment.yaml #This is the 213 line in deployment.yaml #This is the 213 line in deployment.yaml
          httpGet: #This is the 214 line in deployment.yaml #This is the 214 line in deployment.yaml #This is the 214 line in deployment.yaml #This is the 214 line in deployment.yaml #This is the 214 line in deployment.yaml
            scheme: HTTPS #This is the 215 line in deployment.yaml #This is the 215 line in deployment.yaml #This is the 215 line in deployment.yaml #This is the 215 line in deployment.yaml #This is the 215 line in deployment.yaml
            port: 8889 #This is the 216 line in deployment.yaml #This is the 216 line in deployment.yaml #This is the 216 line in deployment.yaml #This is the 216 line in deployment.yaml #This is the 216 line in deployment.yaml
            path: healthz #This is the 217 line in deployment.yaml #This is the 217 line in deployment.yaml #This is the 217 line in deployment.yaml #This is the 217 line in deployment.yaml #This is the 217 line in deployment.yaml
          initialDelaySeconds: 5 #This is the 218 line in deployment.yaml #This is the 218 line in deployment.yaml #This is the 218 line in deployment.yaml #This is the 218 line in deployment.yaml #This is the 218 line in deployment.yaml
          timeoutSeconds: 5 #This is the 219 line in deployment.yaml #This is the 219 line in deployment.yaml #This is the 219 line in deployment.yaml #This is the 219 line in deployment.yaml #This is the 219 line in deployment.yaml
        {{- if .Values.kubeRBACProxy.resources }} #This is the 220 line in deployment.yaml #This is the 220 line in deployment.yaml #This is the 220 line in deployment.yaml #This is the 220 line in deployment.yaml #This is the 220 line in deployment.yaml
        resources: #This is the 221 line in deployment.yaml #This is the 221 line in deployment.yaml #This is the 221 line in deployment.yaml #This is the 221 line in deployment.yaml #This is the 221 line in deployment.yaml
{{ toYaml .Values.kubeRBACProxy.resources | indent 10 }} #This is the 222 line in deployment.yaml #This is the 222 line in deployment.yaml #This is the 222 line in deployment.yaml #This is the 222 line in deployment.yaml #This is the 222 line in deployment.yaml
{{- end }} #This is the 223 line in deployment.yaml #This is the 223 line in deployment.yaml #This is the 223 line in deployment.yaml #This is the 223 line in deployment.yaml #This is the 223 line in deployment.yaml
{{- if .Values.kubeRBACProxy.containerSecurityContext }} #This is the 224 line in deployment.yaml #This is the 224 line in deployment.yaml #This is the 224 line in deployment.yaml #This is the 224 line in deployment.yaml #This is the 224 line in deployment.yaml
        securityContext: #This is the 225 line in deployment.yaml #This is the 225 line in deployment.yaml #This is the 225 line in deployment.yaml #This is the 225 line in deployment.yaml #This is the 225 line in deployment.yaml
{{ toYaml .Values.kubeRBACProxy.containerSecurityContext | indent 10 }} #This is the 226 line in deployment.yaml #This is the 226 line in deployment.yaml #This is the 226 line in deployment.yaml #This is the 226 line in deployment.yaml #This is the 226 line in deployment.yaml
{{- end }} #This is the 227 line in deployment.yaml #This is the 227 line in deployment.yaml #This is the 227 line in deployment.yaml #This is the 227 line in deployment.yaml #This is the 227 line in deployment.yaml
      {{- end }} #This is the 228 line in deployment.yaml #This is the 228 line in deployment.yaml #This is the 228 line in deployment.yaml #This is the 228 line in deployment.yaml #This is the 228 line in deployment.yaml
      {{- end }} #This is the 229 line in deployment.yaml #This is the 229 line in deployment.yaml #This is the 229 line in deployment.yaml #This is the 229 line in deployment.yaml #This is the 229 line in deployment.yaml
{{- if or .Values.imagePullSecrets .Values.global.imagePullSecrets }} #This is the 230 line in deployment.yaml #This is the 230 line in deployment.yaml #This is the 230 line in deployment.yaml #This is the 230 line in deployment.yaml #This is the 230 line in deployment.yaml
      imagePullSecrets: #This is the 231 line in deployment.yaml #This is the 231 line in deployment.yaml #This is the 231 line in deployment.yaml #This is the 231 line in deployment.yaml #This is the 231 line in deployment.yaml
        {{- include "kube-state-metrics.imagePullSecrets" (dict "Values" .Values "imagePullSecrets" .Values.imagePullSecrets) | indent 8 }} #This is the 232 line in deployment.yaml #This is the 232 line in deployment.yaml #This is the 232 line in deployment.yaml #This is the 232 line in deployment.yaml #This is the 232 line in deployment.yaml
      {{- end }} #This is the 233 line in deployment.yaml #This is the 233 line in deployment.yaml #This is the 233 line in deployment.yaml #This is the 233 line in deployment.yaml #This is the 233 line in deployment.yaml
      {{- if .Values.affinity }} #This is the 234 line in deployment.yaml #This is the 234 line in deployment.yaml #This is the 234 line in deployment.yaml #This is the 234 line in deployment.yaml #This is the 234 line in deployment.yaml
      affinity: #This is the 235 line in deployment.yaml #This is the 235 line in deployment.yaml #This is the 235 line in deployment.yaml #This is the 235 line in deployment.yaml #This is the 235 line in deployment.yaml
{{ toYaml .Values.affinity | indent 8 }} #This is the 236 line in deployment.yaml #This is the 236 line in deployment.yaml #This is the 236 line in deployment.yaml #This is the 236 line in deployment.yaml #This is the 236 line in deployment.yaml
      {{- end }} #This is the 237 line in deployment.yaml #This is the 237 line in deployment.yaml #This is the 237 line in deployment.yaml #This is the 237 line in deployment.yaml #This is the 237 line in deployment.yaml
      {{- if .Values.nodeSelector }} #This is the 238 line in deployment.yaml #This is the 238 line in deployment.yaml #This is the 238 line in deployment.yaml #This is the 238 line in deployment.yaml #This is the 238 line in deployment.yaml
      nodeSelector: #This is the 239 line in deployment.yaml #This is the 239 line in deployment.yaml #This is the 239 line in deployment.yaml #This is the 239 line in deployment.yaml #This is the 239 line in deployment.yaml
{{ toYaml .Values.nodeSelector | indent 8 }} #This is the 240 line in deployment.yaml #This is the 240 line in deployment.yaml #This is the 240 line in deployment.yaml #This is the 240 line in deployment.yaml #This is the 240 line in deployment.yaml
      {{- end }} #This is the 241 line in deployment.yaml #This is the 241 line in deployment.yaml #This is the 241 line in deployment.yaml #This is the 241 line in deployment.yaml #This is the 241 line in deployment.yaml
      {{- if .Values.tolerations }} #This is the 242 line in deployment.yaml #This is the 242 line in deployment.yaml #This is the 242 line in deployment.yaml #This is the 242 line in deployment.yaml #This is the 242 line in deployment.yaml
      tolerations: #This is the 243 line in deployment.yaml #This is the 243 line in deployment.yaml #This is the 243 line in deployment.yaml #This is the 243 line in deployment.yaml #This is the 243 line in deployment.yaml
{{ toYaml .Values.tolerations | indent 8 }} #This is the 244 line in deployment.yaml #This is the 244 line in deployment.yaml #This is the 244 line in deployment.yaml #This is the 244 line in deployment.yaml #This is the 244 line in deployment.yaml
      {{- end }} #This is the 245 line in deployment.yaml #This is the 245 line in deployment.yaml #This is the 245 line in deployment.yaml #This is the 245 line in deployment.yaml #This is the 245 line in deployment.yaml
      {{- if .Values.topologySpreadConstraints }} #This is the 246 line in deployment.yaml #This is the 246 line in deployment.yaml #This is the 246 line in deployment.yaml #This is the 246 line in deployment.yaml #This is the 246 line in deployment.yaml
      topologySpreadConstraints: #This is the 247 line in deployment.yaml #This is the 247 line in deployment.yaml #This is the 247 line in deployment.yaml #This is the 247 line in deployment.yaml #This is the 247 line in deployment.yaml
{{ toYaml .Values.topologySpreadConstraints | indent 8 }} #This is the 248 line in deployment.yaml #This is the 248 line in deployment.yaml #This is the 248 line in deployment.yaml #This is the 248 line in deployment.yaml #This is the 248 line in deployment.yaml
      {{- end }} #This is the 249 line in deployment.yaml #This is the 249 line in deployment.yaml #This is the 249 line in deployment.yaml #This is the 249 line in deployment.yaml #This is the 249 line in deployment.yaml
      {{- if or (.Values.kubeconfig.enabled) (.Values.volumes) (.Values.kubeRBACProxy.enabled) }} #This is the 250 line in deployment.yaml #This is the 250 line in deployment.yaml #This is the 250 line in deployment.yaml #This is the 250 line in deployment.yaml #This is the 250 line in deployment.yaml
      volumes: #This is the 251 line in deployment.yaml #This is the 251 line in deployment.yaml #This is the 251 line in deployment.yaml #This is the 251 line in deployment.yaml #This is the 251 line in deployment.yaml
      {{- if .Values.kubeconfig.enabled}} #This is the 252 line in deployment.yaml #This is the 252 line in deployment.yaml #This is the 252 line in deployment.yaml #This is the 252 line in deployment.yaml #This is the 252 line in deployment.yaml
        - name: kubeconfig #This is the 253 line in deployment.yaml #This is the 253 line in deployment.yaml #This is the 253 line in deployment.yaml #This is the 253 line in deployment.yaml #This is the 253 line in deployment.yaml
          secret: #This is the 254 line in deployment.yaml #This is the 254 line in deployment.yaml #This is the 254 line in deployment.yaml #This is the 254 line in deployment.yaml #This is the 254 line in deployment.yaml
            secretName: {{ template "kube-state-metrics.fullname" . }}-kubeconfig #This is the 255 line in deployment.yaml #This is the 255 line in deployment.yaml #This is the 255 line in deployment.yaml #This is the 255 line in deployment.yaml #This is the 255 line in deployment.yaml
      {{- end }} #This is the 256 line in deployment.yaml #This is the 256 line in deployment.yaml #This is the 256 line in deployment.yaml #This is the 256 line in deployment.yaml #This is the 256 line in deployment.yaml
      {{- if .Values.kubeRBACProxy.enabled}} #This is the 257 line in deployment.yaml #This is the 257 line in deployment.yaml #This is the 257 line in deployment.yaml #This is the 257 line in deployment.yaml #This is the 257 line in deployment.yaml
        - name: kube-rbac-proxy-config #This is the 258 line in deployment.yaml #This is the 258 line in deployment.yaml #This is the 258 line in deployment.yaml #This is the 258 line in deployment.yaml #This is the 258 line in deployment.yaml
          configMap: #This is the 259 line in deployment.yaml #This is the 259 line in deployment.yaml #This is the 259 line in deployment.yaml #This is the 259 line in deployment.yaml #This is the 259 line in deployment.yaml
            name: {{ template "kube-state-metrics.fullname" . }}-rbac-config #This is the 260 line in deployment.yaml #This is the 260 line in deployment.yaml #This is the 260 line in deployment.yaml #This is the 260 line in deployment.yaml #This is the 260 line in deployment.yaml
      {{- end }} #This is the 261 line in deployment.yaml #This is the 261 line in deployment.yaml #This is the 261 line in deployment.yaml #This is the 261 line in deployment.yaml #This is the 261 line in deployment.yaml
      {{- if .Values.volumes }} #This is the 262 line in deployment.yaml #This is the 262 line in deployment.yaml #This is the 262 line in deployment.yaml #This is the 262 line in deployment.yaml #This is the 262 line in deployment.yaml
{{ toYaml .Values.volumes | indent 8 }} #This is the 263 line in deployment.yaml #This is the 263 line in deployment.yaml #This is the 263 line in deployment.yaml #This is the 263 line in deployment.yaml #This is the 263 line in deployment.yaml
      {{- end }} #This is the 264 line in deployment.yaml #This is the 264 line in deployment.yaml #This is the 264 line in deployment.yaml #This is the 264 line in deployment.yaml #This is the 264 line in deployment.yaml
      {{- end }} #This is the 265 line in deployment.yaml #This is the 265 line in deployment.yaml #This is the 265 line in deployment.yaml #This is the 265 line in deployment.yaml #This is the 265 line in deployment.yaml
 #This is the 266 line in deployment.yaml #This is the 266 line in deployment.yaml #This is the 266 line in deployment.yaml #This is the 266 line in deployment.yaml #This is the 266 line in deployment.yaml