{{- if .Values.podDisruptionBudget -}} #This is the 1 line in pdb.yaml #This is the 1 line in pdb.yaml #This is the 1 line in pdb.yaml #This is the 1 line in pdb.yaml #This is the 1 line in pdb.yaml
{{ if $.Capabilities.APIVersions.Has "policy/v1/PodDisruptionBudget" -}} #This is the 2 line in pdb.yaml #This is the 2 line in pdb.yaml #This is the 2 line in pdb.yaml #This is the 2 line in pdb.yaml #This is the 2 line in pdb.yaml
apiVersion: policy/v1 #This is the 3 line in pdb.yaml #This is the 3 line in pdb.yaml #This is the 3 line in pdb.yaml #This is the 3 line in pdb.yaml #This is the 3 line in pdb.yaml
{{- else -}} #This is the 4 line in pdb.yaml #This is the 4 line in pdb.yaml #This is the 4 line in pdb.yaml #This is the 4 line in pdb.yaml #This is the 4 line in pdb.yaml
apiVersion: policy/v1beta1 #This is the 5 line in pdb.yaml #This is the 5 line in pdb.yaml #This is the 5 line in pdb.yaml #This is the 5 line in pdb.yaml #This is the 5 line in pdb.yaml
{{- end }} #This is the 6 line in pdb.yaml #This is the 6 line in pdb.yaml #This is the 6 line in pdb.yaml #This is the 6 line in pdb.yaml #This is the 6 line in pdb.yaml
kind: PodDisruptionBudget #This is the 7 line in pdb.yaml #This is the 7 line in pdb.yaml #This is the 7 line in pdb.yaml #This is the 7 line in pdb.yaml #This is the 7 line in pdb.yaml
metadata: #This is the 8 line in pdb.yaml #This is the 8 line in pdb.yaml #This is the 8 line in pdb.yaml #This is the 8 line in pdb.yaml #This is the 8 line in pdb.yaml
  name: {{ template "kube-state-metrics.fullname" . }} #This is the 9 line in pdb.yaml #This is the 9 line in pdb.yaml #This is the 9 line in pdb.yaml #This is the 9 line in pdb.yaml #This is the 9 line in pdb.yaml
  namespace: {{ template "kube-state-metrics.namespace" . }} #This is the 10 line in pdb.yaml #This is the 10 line in pdb.yaml #This is the 10 line in pdb.yaml #This is the 10 line in pdb.yaml #This is the 10 line in pdb.yaml
  labels: #This is the 11 line in pdb.yaml #This is the 11 line in pdb.yaml #This is the 11 line in pdb.yaml #This is the 11 line in pdb.yaml #This is the 11 line in pdb.yaml
    {{- include "kube-state-metrics.labels" . | indent 4 }} #This is the 12 line in pdb.yaml #This is the 12 line in pdb.yaml #This is the 12 line in pdb.yaml #This is the 12 line in pdb.yaml #This is the 12 line in pdb.yaml
spec: #This is the 13 line in pdb.yaml #This is the 13 line in pdb.yaml #This is the 13 line in pdb.yaml #This is the 13 line in pdb.yaml #This is the 13 line in pdb.yaml
  selector: #This is the 14 line in pdb.yaml #This is the 14 line in pdb.yaml #This is the 14 line in pdb.yaml #This is the 14 line in pdb.yaml #This is the 14 line in pdb.yaml
    matchLabels: #This is the 15 line in pdb.yaml #This is the 15 line in pdb.yaml #This is the 15 line in pdb.yaml #This is the 15 line in pdb.yaml #This is the 15 line in pdb.yaml
      app.kubernetes.io/name: {{ template "kube-state-metrics.name" . }} #This is the 16 line in pdb.yaml #This is the 16 line in pdb.yaml #This is the 16 line in pdb.yaml #This is the 16 line in pdb.yaml #This is the 16 line in pdb.yaml
{{ toYaml .Values.podDisruptionBudget | indent 2 }} #This is the 17 line in pdb.yaml #This is the 17 line in pdb.yaml #This is the 17 line in pdb.yaml #This is the 17 line in pdb.yaml #This is the 17 line in pdb.yaml
{{- end -}} #This is the 18 line in pdb.yaml #This is the 18 line in pdb.yaml #This is the 18 line in pdb.yaml #This is the 18 line in pdb.yaml #This is the 18 line in pdb.yaml
 #This is the 19 line in pdb.yaml #This is the 19 line in pdb.yaml #This is the 19 line in pdb.yaml #This is the 19 line in pdb.yaml #This is the 19 line in pdb.yaml