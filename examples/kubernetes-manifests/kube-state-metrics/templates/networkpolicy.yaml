{{- if .Values.networkPolicy.enabled }} #This is the 1 line in networkpolicy.yaml #This is the 1 line in networkpolicy.yaml #This is the 1 line in networkpolicy.yaml #This is the 1 line in networkpolicy.yaml #This is the 1 line in networkpolicy.yaml
kind: NetworkPolicy #This is the 2 line in networkpolicy.yaml #This is the 2 line in networkpolicy.yaml #This is the 2 line in networkpolicy.yaml #This is the 2 line in networkpolicy.yaml #This is the 2 line in networkpolicy.yaml
apiVersion: networking.k8s.io/v1 #This is the 3 line in networkpolicy.yaml #This is the 3 line in networkpolicy.yaml #This is the 3 line in networkpolicy.yaml #This is the 3 line in networkpolicy.yaml #This is the 3 line in networkpolicy.yaml
metadata: #This is the 4 line in networkpolicy.yaml #This is the 4 line in networkpolicy.yaml #This is the 4 line in networkpolicy.yaml #This is the 4 line in networkpolicy.yaml #This is the 4 line in networkpolicy.yaml
  labels: #This is the 5 line in networkpolicy.yaml #This is the 5 line in networkpolicy.yaml #This is the 5 line in networkpolicy.yaml #This is the 5 line in networkpolicy.yaml #This is the 5 line in networkpolicy.yaml
    {{- include "kube-state-metrics.labels" . | indent 4 }} #This is the 6 line in networkpolicy.yaml #This is the 6 line in networkpolicy.yaml #This is the 6 line in networkpolicy.yaml #This is the 6 line in networkpolicy.yaml #This is the 6 line in networkpolicy.yaml
  name: {{ template "kube-state-metrics.fullname" . }} #This is the 7 line in networkpolicy.yaml #This is the 7 line in networkpolicy.yaml #This is the 7 line in networkpolicy.yaml #This is the 7 line in networkpolicy.yaml #This is the 7 line in networkpolicy.yaml
  namespace: {{ template "kube-state-metrics.namespace" . }} #This is the 8 line in networkpolicy.yaml #This is the 8 line in networkpolicy.yaml #This is the 8 line in networkpolicy.yaml #This is the 8 line in networkpolicy.yaml #This is the 8 line in networkpolicy.yaml
  {{- if .Values.annotations }} #This is the 9 line in networkpolicy.yaml #This is the 9 line in networkpolicy.yaml #This is the 9 line in networkpolicy.yaml #This is the 9 line in networkpolicy.yaml #This is the 9 line in networkpolicy.yaml
  annotations: #This is the 10 line in networkpolicy.yaml #This is the 10 line in networkpolicy.yaml #This is the 10 line in networkpolicy.yaml #This is the 10 line in networkpolicy.yaml #This is the 10 line in networkpolicy.yaml
    {{ toYaml .Values.annotations | nindent 4 }} #This is the 11 line in networkpolicy.yaml #This is the 11 line in networkpolicy.yaml #This is the 11 line in networkpolicy.yaml #This is the 11 line in networkpolicy.yaml #This is the 11 line in networkpolicy.yaml
  {{- end }} #This is the 12 line in networkpolicy.yaml #This is the 12 line in networkpolicy.yaml #This is the 12 line in networkpolicy.yaml #This is the 12 line in networkpolicy.yaml #This is the 12 line in networkpolicy.yaml
spec: #This is the 13 line in networkpolicy.yaml #This is the 13 line in networkpolicy.yaml #This is the 13 line in networkpolicy.yaml #This is the 13 line in networkpolicy.yaml #This is the 13 line in networkpolicy.yaml
  {{- if .Values.networkPolicy.egress }} #This is the 14 line in networkpolicy.yaml #This is the 14 line in networkpolicy.yaml #This is the 14 line in networkpolicy.yaml #This is the 14 line in networkpolicy.yaml #This is the 14 line in networkpolicy.yaml
  ## Deny all egress by default #This is the 15 line in networkpolicy.yaml #This is the 15 line in networkpolicy.yaml #This is the 15 line in networkpolicy.yaml #This is the 15 line in networkpolicy.yaml #This is the 15 line in networkpolicy.yaml
  egress: #This is the 16 line in networkpolicy.yaml #This is the 16 line in networkpolicy.yaml #This is the 16 line in networkpolicy.yaml #This is the 16 line in networkpolicy.yaml #This is the 16 line in networkpolicy.yaml
    {{- toYaml .Values.networkPolicy.egress | nindent 4 }} #This is the 17 line in networkpolicy.yaml #This is the 17 line in networkpolicy.yaml #This is the 17 line in networkpolicy.yaml #This is the 17 line in networkpolicy.yaml #This is the 17 line in networkpolicy.yaml
  {{- end }} #This is the 18 line in networkpolicy.yaml #This is the 18 line in networkpolicy.yaml #This is the 18 line in networkpolicy.yaml #This is the 18 line in networkpolicy.yaml #This is the 18 line in networkpolicy.yaml
  ingress: #This is the 19 line in networkpolicy.yaml #This is the 19 line in networkpolicy.yaml #This is the 19 line in networkpolicy.yaml #This is the 19 line in networkpolicy.yaml #This is the 19 line in networkpolicy.yaml
  {{- if .Values.networkPolicy.ingress }} #This is the 20 line in networkpolicy.yaml #This is the 20 line in networkpolicy.yaml #This is the 20 line in networkpolicy.yaml #This is the 20 line in networkpolicy.yaml #This is the 20 line in networkpolicy.yaml
    {{- toYaml .Values.networkPolicy.ingress | nindent 4 }} #This is the 21 line in networkpolicy.yaml #This is the 21 line in networkpolicy.yaml #This is the 21 line in networkpolicy.yaml #This is the 21 line in networkpolicy.yaml #This is the 21 line in networkpolicy.yaml
  {{- else }} #This is the 22 line in networkpolicy.yaml #This is the 22 line in networkpolicy.yaml #This is the 22 line in networkpolicy.yaml #This is the 22 line in networkpolicy.yaml #This is the 22 line in networkpolicy.yaml
    ## Allow ingress on default ports by default #This is the 23 line in networkpolicy.yaml #This is the 23 line in networkpolicy.yaml #This is the 23 line in networkpolicy.yaml #This is the 23 line in networkpolicy.yaml #This is the 23 line in networkpolicy.yaml
  - ports: #This is the 24 line in networkpolicy.yaml #This is the 24 line in networkpolicy.yaml #This is the 24 line in networkpolicy.yaml #This is the 24 line in networkpolicy.yaml #This is the 24 line in networkpolicy.yaml
    - port: {{ .Values.service.port | default 8080 }} #This is the 25 line in networkpolicy.yaml #This is the 25 line in networkpolicy.yaml #This is the 25 line in networkpolicy.yaml #This is the 25 line in networkpolicy.yaml #This is the 25 line in networkpolicy.yaml
      protocol: TCP #This is the 26 line in networkpolicy.yaml #This is the 26 line in networkpolicy.yaml #This is the 26 line in networkpolicy.yaml #This is the 26 line in networkpolicy.yaml #This is the 26 line in networkpolicy.yaml
    {{- if .Values.selfMonitor.enabled }} #This is the 27 line in networkpolicy.yaml #This is the 27 line in networkpolicy.yaml #This is the 27 line in networkpolicy.yaml #This is the 27 line in networkpolicy.yaml #This is the 27 line in networkpolicy.yaml
    {{- $telemetryPort := ternary 9091 (.Values.selfMonitor.telemetryPort | default 8081) .Values.kubeRBACProxy.enabled}} #This is the 28 line in networkpolicy.yaml #This is the 28 line in networkpolicy.yaml #This is the 28 line in networkpolicy.yaml #This is the 28 line in networkpolicy.yaml #This is the 28 line in networkpolicy.yaml
    - port: {{ $telemetryPort }} #This is the 29 line in networkpolicy.yaml #This is the 29 line in networkpolicy.yaml #This is the 29 line in networkpolicy.yaml #This is the 29 line in networkpolicy.yaml #This is the 29 line in networkpolicy.yaml
      protocol: TCP #This is the 30 line in networkpolicy.yaml #This is the 30 line in networkpolicy.yaml #This is the 30 line in networkpolicy.yaml #This is the 30 line in networkpolicy.yaml #This is the 30 line in networkpolicy.yaml
    {{- end }} #This is the 31 line in networkpolicy.yaml #This is the 31 line in networkpolicy.yaml #This is the 31 line in networkpolicy.yaml #This is the 31 line in networkpolicy.yaml #This is the 31 line in networkpolicy.yaml
  {{- end }} #This is the 32 line in networkpolicy.yaml #This is the 32 line in networkpolicy.yaml #This is the 32 line in networkpolicy.yaml #This is the 32 line in networkpolicy.yaml #This is the 32 line in networkpolicy.yaml
  podSelector: #This is the 33 line in networkpolicy.yaml #This is the 33 line in networkpolicy.yaml #This is the 33 line in networkpolicy.yaml #This is the 33 line in networkpolicy.yaml #This is the 33 line in networkpolicy.yaml
    {{- if .Values.networkPolicy.podSelector }} #This is the 34 line in networkpolicy.yaml #This is the 34 line in networkpolicy.yaml #This is the 34 line in networkpolicy.yaml #This is the 34 line in networkpolicy.yaml #This is the 34 line in networkpolicy.yaml
    {{- toYaml .Values.networkPolicy.podSelector | nindent 4 }} #This is the 35 line in networkpolicy.yaml #This is the 35 line in networkpolicy.yaml #This is the 35 line in networkpolicy.yaml #This is the 35 line in networkpolicy.yaml #This is the 35 line in networkpolicy.yaml
    {{- else }} #This is the 36 line in networkpolicy.yaml #This is the 36 line in networkpolicy.yaml #This is the 36 line in networkpolicy.yaml #This is the 36 line in networkpolicy.yaml #This is the 36 line in networkpolicy.yaml
    matchLabels: #This is the 37 line in networkpolicy.yaml #This is the 37 line in networkpolicy.yaml #This is the 37 line in networkpolicy.yaml #This is the 37 line in networkpolicy.yaml #This is the 37 line in networkpolicy.yaml
      {{- include "kube-state-metrics.selectorLabels" . | indent 6 }} #This is the 38 line in networkpolicy.yaml #This is the 38 line in networkpolicy.yaml #This is the 38 line in networkpolicy.yaml #This is the 38 line in networkpolicy.yaml #This is the 38 line in networkpolicy.yaml
    {{- end }} #This is the 39 line in networkpolicy.yaml #This is the 39 line in networkpolicy.yaml #This is the 39 line in networkpolicy.yaml #This is the 39 line in networkpolicy.yaml #This is the 39 line in networkpolicy.yaml
  policyTypes: #This is the 40 line in networkpolicy.yaml #This is the 40 line in networkpolicy.yaml #This is the 40 line in networkpolicy.yaml #This is the 40 line in networkpolicy.yaml #This is the 40 line in networkpolicy.yaml
    - Ingress #This is the 41 line in networkpolicy.yaml #This is the 41 line in networkpolicy.yaml #This is the 41 line in networkpolicy.yaml #This is the 41 line in networkpolicy.yaml #This is the 41 line in networkpolicy.yaml
    - Egress #This is the 42 line in networkpolicy.yaml #This is the 42 line in networkpolicy.yaml #This is the 42 line in networkpolicy.yaml #This is the 42 line in networkpolicy.yaml #This is the 42 line in networkpolicy.yaml
{{- end }} #This is the 43 line in networkpolicy.yaml #This is the 43 line in networkpolicy.yaml #This is the 43 line in networkpolicy.yaml #This is the 43 line in networkpolicy.yaml #This is the 43 line in networkpolicy.yaml
 #This is the 44 line in networkpolicy.yaml #This is the 44 line in networkpolicy.yaml #This is the 44 line in networkpolicy.yaml #This is the 44 line in networkpolicy.yaml #This is the 44 line in networkpolicy.yaml