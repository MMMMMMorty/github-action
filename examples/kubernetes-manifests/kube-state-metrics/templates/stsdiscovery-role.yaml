{{- if and .Values.autosharding.enabled .Values.rbac.create -}} #This is the 1 line in stsdiscovery-role.yaml #This is the 1 line in stsdiscovery-role.yaml #This is the 1 line in stsdiscovery-role.yaml #This is the 1 line in stsdiscovery-role.yaml #This is the 1 line in stsdiscovery-role.yaml
apiVersion: rbac.authorization.k8s.io/v1 #This is the 2 line in stsdiscovery-role.yaml #This is the 2 line in stsdiscovery-role.yaml #This is the 2 line in stsdiscovery-role.yaml #This is the 2 line in stsdiscovery-role.yaml #This is the 2 line in stsdiscovery-role.yaml
kind: Role #This is the 3 line in stsdiscovery-role.yaml #This is the 3 line in stsdiscovery-role.yaml #This is the 3 line in stsdiscovery-role.yaml #This is the 3 line in stsdiscovery-role.yaml #This is the 3 line in stsdiscovery-role.yaml
metadata: #This is the 4 line in stsdiscovery-role.yaml #This is the 4 line in stsdiscovery-role.yaml #This is the 4 line in stsdiscovery-role.yaml #This is the 4 line in stsdiscovery-role.yaml #This is the 4 line in stsdiscovery-role.yaml
  name: stsdiscovery-{{ template "kube-state-metrics.fullname" . }} #This is the 5 line in stsdiscovery-role.yaml #This is the 5 line in stsdiscovery-role.yaml #This is the 5 line in stsdiscovery-role.yaml #This is the 5 line in stsdiscovery-role.yaml #This is the 5 line in stsdiscovery-role.yaml
  namespace: {{ template "kube-state-metrics.namespace" . }} #This is the 6 line in stsdiscovery-role.yaml #This is the 6 line in stsdiscovery-role.yaml #This is the 6 line in stsdiscovery-role.yaml #This is the 6 line in stsdiscovery-role.yaml #This is the 6 line in stsdiscovery-role.yaml
  labels: #This is the 7 line in stsdiscovery-role.yaml #This is the 7 line in stsdiscovery-role.yaml #This is the 7 line in stsdiscovery-role.yaml #This is the 7 line in stsdiscovery-role.yaml #This is the 7 line in stsdiscovery-role.yaml
    {{- include "kube-state-metrics.labels" . | indent 4 }} #This is the 8 line in stsdiscovery-role.yaml #This is the 8 line in stsdiscovery-role.yaml #This is the 8 line in stsdiscovery-role.yaml #This is the 8 line in stsdiscovery-role.yaml #This is the 8 line in stsdiscovery-role.yaml
rules: #This is the 9 line in stsdiscovery-role.yaml #This is the 9 line in stsdiscovery-role.yaml #This is the 9 line in stsdiscovery-role.yaml #This is the 9 line in stsdiscovery-role.yaml #This is the 9 line in stsdiscovery-role.yaml
- apiGroups: #This is the 10 line in stsdiscovery-role.yaml #This is the 10 line in stsdiscovery-role.yaml #This is the 10 line in stsdiscovery-role.yaml #This is the 10 line in stsdiscovery-role.yaml #This is the 10 line in stsdiscovery-role.yaml
  - "" #This is the 11 line in stsdiscovery-role.yaml #This is the 11 line in stsdiscovery-role.yaml #This is the 11 line in stsdiscovery-role.yaml #This is the 11 line in stsdiscovery-role.yaml #This is the 11 line in stsdiscovery-role.yaml
  resources: #This is the 12 line in stsdiscovery-role.yaml #This is the 12 line in stsdiscovery-role.yaml #This is the 12 line in stsdiscovery-role.yaml #This is the 12 line in stsdiscovery-role.yaml #This is the 12 line in stsdiscovery-role.yaml
  - pods #This is the 13 line in stsdiscovery-role.yaml #This is the 13 line in stsdiscovery-role.yaml #This is the 13 line in stsdiscovery-role.yaml #This is the 13 line in stsdiscovery-role.yaml #This is the 13 line in stsdiscovery-role.yaml
  verbs: #This is the 14 line in stsdiscovery-role.yaml #This is the 14 line in stsdiscovery-role.yaml #This is the 14 line in stsdiscovery-role.yaml #This is the 14 line in stsdiscovery-role.yaml #This is the 14 line in stsdiscovery-role.yaml
  - get #This is the 15 line in stsdiscovery-role.yaml #This is the 15 line in stsdiscovery-role.yaml #This is the 15 line in stsdiscovery-role.yaml #This is the 15 line in stsdiscovery-role.yaml #This is the 15 line in stsdiscovery-role.yaml
- apiGroups: #This is the 16 line in stsdiscovery-role.yaml #This is the 16 line in stsdiscovery-role.yaml #This is the 16 line in stsdiscovery-role.yaml #This is the 16 line in stsdiscovery-role.yaml #This is the 16 line in stsdiscovery-role.yaml
  - apps #This is the 17 line in stsdiscovery-role.yaml #This is the 17 line in stsdiscovery-role.yaml #This is the 17 line in stsdiscovery-role.yaml #This is the 17 line in stsdiscovery-role.yaml #This is the 17 line in stsdiscovery-role.yaml
  resourceNames: #This is the 18 line in stsdiscovery-role.yaml #This is the 18 line in stsdiscovery-role.yaml #This is the 18 line in stsdiscovery-role.yaml #This is the 18 line in stsdiscovery-role.yaml #This is the 18 line in stsdiscovery-role.yaml
  - {{ template "kube-state-metrics.fullname" . }} #This is the 19 line in stsdiscovery-role.yaml #This is the 19 line in stsdiscovery-role.yaml #This is the 19 line in stsdiscovery-role.yaml #This is the 19 line in stsdiscovery-role.yaml #This is the 19 line in stsdiscovery-role.yaml
  resources: #This is the 20 line in stsdiscovery-role.yaml #This is the 20 line in stsdiscovery-role.yaml #This is the 20 line in stsdiscovery-role.yaml #This is the 20 line in stsdiscovery-role.yaml #This is the 20 line in stsdiscovery-role.yaml
  - statefulsets #This is the 21 line in stsdiscovery-role.yaml #This is the 21 line in stsdiscovery-role.yaml #This is the 21 line in stsdiscovery-role.yaml #This is the 21 line in stsdiscovery-role.yaml #This is the 21 line in stsdiscovery-role.yaml
  verbs: #This is the 22 line in stsdiscovery-role.yaml #This is the 22 line in stsdiscovery-role.yaml #This is the 22 line in stsdiscovery-role.yaml #This is the 22 line in stsdiscovery-role.yaml #This is the 22 line in stsdiscovery-role.yaml
  - get #This is the 23 line in stsdiscovery-role.yaml #This is the 23 line in stsdiscovery-role.yaml #This is the 23 line in stsdiscovery-role.yaml #This is the 23 line in stsdiscovery-role.yaml #This is the 23 line in stsdiscovery-role.yaml
  - list #This is the 24 line in stsdiscovery-role.yaml #This is the 24 line in stsdiscovery-role.yaml #This is the 24 line in stsdiscovery-role.yaml #This is the 24 line in stsdiscovery-role.yaml #This is the 24 line in stsdiscovery-role.yaml
  - watch #This is the 25 line in stsdiscovery-role.yaml #This is the 25 line in stsdiscovery-role.yaml #This is the 25 line in stsdiscovery-role.yaml #This is the 25 line in stsdiscovery-role.yaml #This is the 25 line in stsdiscovery-role.yaml
{{- end }} #This is the 26 line in stsdiscovery-role.yaml #This is the 26 line in stsdiscovery-role.yaml #This is the 26 line in stsdiscovery-role.yaml #This is the 26 line in stsdiscovery-role.yaml #This is the 26 line in stsdiscovery-role.yaml
 #This is the 27 line in stsdiscovery-role.yaml #This is the 27 line in stsdiscovery-role.yaml #This is the 27 line in stsdiscovery-role.yaml #This is the 27 line in stsdiscovery-role.yaml #This is the 27 line in stsdiscovery-role.yaml